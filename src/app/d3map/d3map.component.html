<div class="container">

    <mat-card>
        <mat-card-header>
            <mat-card-title>{{ dataset }} {{ datatype }} Details</mat-card-title>

        </mat-card-header>
        <mat-card-content>

            <div *ngFor="let constit of constitData">  
                <div id="const_details" *ngIf="constit ===undefined">
                    Scroll mouse over a constituency
                </div> 
        
                <div id="mp_details" *ngIf="constit !==undefined">
                    <p>{{ constit.region }}</p>
                    <p><strong>Constituency:</strong> {{ constit.constit }} ({{ constit.code_ons }})</p>

                    <img src="{{ constit.mp_img }}"> 

                    <p id="mp_name" [style.background]="winnerColourWheel">
                        <strong>MP Name:</strong> {{ constit.mp_name }} ({{ constit.win }}) 
                    </p>

                    <p *ngIf="datatype=='petition'">
                        <strong>{{ constit.signature_count }} signatures</strong> of {{ constit.electorate_size }} electorate pop.
                    </p>

                    <p *ngIf="datatype=='election'">
                        <strong>{{ constit.votes }} votes</strong> of {{ constit.electorate_size }} electorate pop.
                    </p>
                    
                    <p *ngIf="datatype=='election'">
                        <strong>{{ constit.year }} status:</strong> {{ constit.status }}
                        &nbsp;
                        <strong>Swing:</strong> {{ constit.swing }}
                    </p>

                    
                </div>
                <div id="barChart"> 

                    <div class="charty" style="opacity: 1;">
                        <svg width="260" height="200" viewBox="0 0 260 200" perserveAspectRatio="xMinYMid" id="sizer-result" class="sizer">
                            
                            <rect *ngFor="let bar of barData" x="132" [style.y]="bar.y" [style.width]="bar.width" height="20" [style.fill]="bar.colour"></rect>
                            
                            <text *ngFor="let bar of barData; index as i" text-anchor="left" x="1" [attr.y]="bar.y + 15" font-family="Arial, Helvetica, sans-serif" font-size="15px" [style.fill]="bar.colour">
                                {{ bar.party }}: {{ bar.result }}
                            </text>

                        </svg>
                    </div>

                </div>
            </div>

        </mat-card-content> 
    </mat-card>

    <mat-card> 
        <mat-card-content> 

            <div id="map" class="map"></div>

        </mat-card-content> 
    </mat-card>

</div>